### TCP / IP 

#### TCP / IP 계층 

1. 애플리케이션 계층 
  - 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정 
  - FTP, DNS, HTTP이 포함됨
2. 트랜스포트 계층 
  - 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 상이의 데이터 흐름을 제공 
  - TCP, UDP가 포함됨
3. 네트워크 계층 
  - 네트워크 상에서 패킷의 이동을 다룸 
  - * 패킷 : 전송하는 데이터의 최소 단위 
  - 어떠한 경로를 거쳐 상대방의 컴퓨터까지 패킷을 보낼지를 결정한다 
4. 링크 계층 
  - 네트워크에 접속하는 하드웨어적인 면을 다룬다 
  - 디바이스 드라이버 , 네트워크 인터페이스 카드 , 케이블 등의 하드웨어 적인 측면은 모두 링크 계층에 포함


- TCP / IP 가 계층으로 이루어져 있는 이유 
  - 계층으로 구성이 되어 있으면 사양이 변경된 해당 계층만 변경하면 된다 
  - 각 계층의 내부는 자유롭게 설계가 가능 
  - 계층화 하면 설계를 편하게 할 수 있다 

- TCP / IP 통신의 흐름 
  1. `클라이언트`의 `애플리케이션 계층`에서 HTTP request를 지시 
  2. `트랜스포트 계층`(TCP) 에서는 애플리케이션 계층에서 받은 HTTP 메세지를 통신하기 쉽게 조각내어 안내번호와 포트번호를 붙여 네트워크 계층에 전달 
  3. `네트워크 계층`(IP) 에서는 수신지 MAC 주소를 추가해서 링크 계층에 전달한다 
  4. `링크 계층`에서 데이터를 받아들여 네트워크 계층 -> 트랜스포트 계층 -> 애플리케이션 계층에 도달하게 되면 서버에서 HTTP 리퀘스트 내용을 수신할 수 있다 

  - 각 계층을 거칠 때는 반드시 헤더로 불려지는 해당 계층마다 필요한 정보를 추가한다 
    - 수신 측에서는 각 계층을 거칠 때마다 계층마다 헤더의 정보를 삭제한다 


### IP 

- IP = Internet Protocol
- 네트워크 계층에 해당한다. 
- 패킷을 상대방에게 전달하는 역할을 수행 
- 송신측에서 수신측으로 데이터를 전달 할 때에 IP 주소와 MAC주소를 필요로 한다
  - IP 주소는 각 노드에 부여된 주소를 가리키고 MAC 주소는 각 네트워크 카드에 할당된 고유의 주소 
  - IP주소는 변경이 가능하지만 MAC은 불가능하다 

### MAC 

- MAC = Media Access Control Address
- 여러 대의 컴퓨터와 네트워크 기기를 중계해서 상대방에게 도착 시킬 때에 MAC 주소를 사용하여 목적지를 찾아가게 한다 
  - 목적지를 찾아갈 때에는 ARP(Address Resolution Protocol)프로토콜을 사용한다 
  - IP 주소를 바탕으로 MAC 주소를 조사한다 

### TCP 

- TCP = Transfer Control Protocol 
- 신뢰성 있는 바이트 스트림 서비스를 제공한다 
  * 바이트 스트림 
    : 용량이 큰 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 작게 분해하여 관리하는 것 
- TCP는 대용량의 데이터를 보내기 쉽게 작게 분해하여 상대에게 보내고, 정확하게 도착했는지 확인하는 역할을 담당한다 

#### TCP의 쓰리웨이 핸드 쉐이킹 

- 상대방에게 제대로 정보가 보내졌는지 여부를 상대에게 확인하기 위한 절차 

1. 송신측에서 SYN플래그를 포함한 패킷 전송 
2. 수신측에서 SYN/ACK플래그로 송신측에 접속함과 동시에 패킷을 수신한 사실을 전달 
3. 송신측에서 ACK플래그를 보내 패킷 교환이 완료되었음을 전달 


### DNS 

- DNS = Domain Name System 
- 응용 계층 시스템에서 도메인 이름과 IP주소 이름 확인을 제공 
- 도메인명에서 IP주소를 조사하거나 반대로 IP주소로부터 도메인명을 조사하는 역할 수행 


### 웹페이지 url을 입력했을 때에 발생하는 과정 

1. 클라이언트 측에서 url 입력 
2. DNS에서 도메인에 대한 IP 주소 획득 
3. HTTP 메세지 작성 
4. TCP에서 통신하기 쉽도록 HTTP 메세지를 패킷으로 분해 
5. IP에서 라우터 등을 이용하여 상대가 어디에 있는지 찾아 중계를 해가며 배송 
6. TCP에서 상대방으로부터 패킷을 수신하여 도착한 패킷을 일렬번호를 보고 조립한다 
7. HTTP에서 웹 서버에 대한 리퀘스트 내용을 처리한다
8. 리퀘스트 처리 결과도 TCP / IP 통신의 순서대로 클라리언트에 반환한다 
