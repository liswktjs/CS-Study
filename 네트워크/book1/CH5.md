## HTTP와 연계하는 웹 서버 (책 내용 + chatGpt)

### 1대로 멀티 도메인을 가능하게 하는 가상 호스트

- HTTP 1.1에서 부터는 하나의 HTTP 서버에 여러 개의 웹 사이트를 실행할 수 있다
- `가상 호스팅`기능을 사용하여 물리적으로 서버가 1대이지만 가상으로 여러대가 있는 것처럼 설정하는 것도 가능하다

### 통신을 중계하는 프로그램

### 프록시

: 서버와 클라이언트의 중계프로그램, 클리아언트로 부터의 리퀘스트를 서버에 전송하고, 서버로부터의 리스폰스를 클라이언트에 전송한다

> 정의

- 클라이언트로부터 받은 리퀘스트를 다른 서버에 전송하는 것
- 클라이언트로부터 받은 리퀘스트 URL을 변경하지 않고 다음 리소스를 가지고 있는 서버에 보낸다
- 여러 대의 프록시 서버를 경유하는 것도 가능하다
  - 단, Via헤더 필드에 경유한 호스트 정보를 추가해야한다
- 클라이언트가 직접 서버와 통신하는 것 보다 보안성과 개인정보 보호 측면에서 더욱 안전하다

> 역할

- 캐시를 사용해서 네트워크 대역을 효율적으로 사용하는 것
- 조직 내에 특정 웹사이트에 대한 엑세스 제한
- 엑세스 로그를 획득하는 정책을 지키려는 목적

> 사용 예시

- 네트워크 캐싱, 특정 웹사이트 엑세스 방지, 보안 방화벽, 웹 케시 접근 등
- 웹사이트가 방화벽에 의해 차단되었을 때에 웹 프록시를 사용하여 방화벽을 우회하고 웹 사이트 엑세스가 가능
  - 프록시를 통해 웹 사이트를 요청하면 프록시는 우리를 대신하여 웹 서버에 요청을 전달한 다음 웹 사이트의 콘텐츠를 반환해준다

> 프록시 종류

#### 캐싱 프록시

- 프록시 서버 상에 리소스 캐시를 보존해두는 타입의 프록시
- 같은 리소스에 대한 리퀘스트가 온 경우, 오리진 서버로부터 리소스를 보내주는 것이 아니라 캐시해둔 것을 리스폰스로서 반환한다

#### 투명 프록시

- 메세지 변경을 하지 않는 타입의 프록시

### 게이트 웨이

: 다른 서버를 중계하는 서버, 두 개의 서로 다른 네트워크 간의 중개자 역할을 한다

클라이언트로부터 수신한 리퀘스트를 리소스를 보유한 서버인 것처럼 수신한다
경우에 따라서 클라이언트는 상대가 게이트 웨이라는 것을 모를 수 있다

> 정의

- 프록시와 유사하지만 서버가 HTTP 서버 이외의 서비스를 제공하는 서버
- 클라이언트와 게이트 웨이 사이를 암호화 등으로 안전하게 접속함으로써 통신의 안정성을 높이는 역할을 수행한다
  - 쇼핑 사이트 등에서 신용 카드 결제 시스템 등과 연계할 때에 사용한다

> 사용 예시

- 앱이 각각 마이크로서비스와 직접 통신하는 대신 api 게이트 웨이를 사용하여 통신을 중앙 집중화 할 수 있음
  - 모바일 앱과 마이크로서비스에서 번역기 역할을 하여 앱이 게이트웨이에 요청할 수 있도록 하고 요청을 적절한 마이크로서비스로 전달한다
  - 인증, 속도 제한 및 캐싱과 같은 작업을 수행하여 시스템의 성능과 보안을 향상시킬 수 있음

### 터널

: 서로 떨어진 두 대의 클라이언트와 서버 사이를 중계하며 접속을 주선하는 중계 프로그램

> 정의

- 요구에 따라 다른 서버와의 통신 경로를 확립
- SSL과 같은 암호화 통신을 통해 서버와 안전하게 통신을 하기 위해 사용한다
- HTTP 리퀘스트를 해석하지 않아 리퀘스트 그대로 다음 서버에 중계한다
- 통신하고 있는 양쪽 끝의 접속이 끊어질 떄 종료한다

### 캐시

> 정의

- 프록시 서버와 클라이언트의 로컬 디스크에 보관된 리소스의 사본

> 장점

- 리소스를 가진 서버에의 액세스를 줄이는 것이 가능하여 통신량과 통신 시간 절약이 가능

> 캐시 서버의 한 예시 캐싱 프록시

- 프록시가 서버로부터의 리스폰스를 중계하는 때에 프록시 서버 상에 리소스의 사본을 저장하는 것
- 캐시를 이용함으로써 같은 데이터를 몇 번이고 오리진 서버에 전송할 필요 없이 가까운 프록시 서버에서 값을 가져와 효율적이다
- 캐시에는 유효기간이 있기 때문에 클라이언트의 요구나 캐시의 유효기간 등에 의해서 오리진 서버에서 유효성을 확인하거나 새로운 리소스를 다시 획득하러 가게 되는 경우도 있음
